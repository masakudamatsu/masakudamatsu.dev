<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      Masa Kudamatsu — Kyoto-based web developer with UX design skills
    </title>
    <!-- Google Fonts (to be removed by locally hosting it)-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway&family=Zen+Kurenaido&family=Zen+Loop&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/yakuhanjp@3.4.1/dist/css/yakuhanjp-narrow.min.css"
    />
    <style>
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }
      * {
        margin: 0;
      }
      body {
        /* Disable MacOS browsers' default subpixel antialising (see https://www.joshwcomeau.com/css/custom-css-reset/#four-font-smoothing-5) */
        -webkit-font-smoothing: antialiased;
        /* Make text rendering consistent across browsers (see https://andy-bell.co.uk/a-modern-css-reset/)*/
        text-rendering: optimizeSpeed;
      }
      canvas,
      img,
      picture,
      svg,
      video {
        display: block;
        height: auto; /* preserve aspect ratio set with height and width attributes */
        max-width: 100%;
      }
      button,
      input,
      select,
      textarea {
        font: inherit;
      }
      ul[role="list"] {
        list-style: none;
        padding-left: 0; /* remove indentation */
      }
      :root {
        /* Font Metrics */
        --xHeight: 10;
        --scale: 1.5;
        --sqrt-scale: 1.225;
        --raleway-xHeight: calc(519 / 1000); /* sxHeight / unitsPerEm */
        --raleway-capHeight: calc(710 / 1000); /* sCapHeight / unitsPerEm */
        --zenloop-capHeight: calc(690 / 1000); /* sCapHeight / unitsPerEm */
        /* Font size (in px) */
        --font100-raleway: calc(var(--xHeight) / var(--raleway-xHeight));
        --font100-japanese: 17.6; /* make it look similar in size to Raleway if --xHeight: 10 */
        --capHeight100: calc(var(--font100-raleway) * var(--raleway-capHeight));
        --font100-zenloop: calc(var(--capHeight100) / var(--zenloop-capHeight));
        --font200-zenloop: calc(var(--scale) * var(--font100-zenloop));
        --font250-zenloop: calc(var(--sqrt-scale) * var(--font200-zenloop));
        --font300-zenloop: calc(var(--scale) * var(--font200-zenloop));
        --font400-zenloop: calc(var(--scale) * var(--font300-zenloop));
        --font500-zenloop: calc(var(--scale) * var(--font400-zenloop));
        --xHeight10: calc((1 / var(--scale)) * var(--xHeight));
        --font10-raleway: calc(var(--xHeight10) / var(--raleway-xHeight));
        /* white space */
        /* If changed, adjust the `sizes` attribute for <img> */
        --whitespace100: calc(var(--scale) * var(--xHeight));
        --whitespace200: calc(var(--scale) * var(--whitespace100));
        --whitespace300: calc(var(--scale) * var(--whitespace200));
        --whitespace400: calc(var(--scale) * var(--whitespace300));
        --whitespace10: var(--xHeight);
      }
      /* Font */
      p {
        font-family: Raleway, "Trebuchet MS", sans-serif;
        font-size: calc(var(--font100-raleway) / 16 * 1rem);
        font-weight: 400;
        line-height: calc(
          (var(--whitespace100) + var(--xHeight)) / var(--font100-raleway)
        );
      }
      h1::before,
      h1::after,
      h2::before,
      h2::after,
      h3::before,
      h3::after,
      p::before,
      p::after {
        content: "";
        display: block;
        height: 0;
        width: 0;
      }
      p::before {
        margin-bottom: calc(-6 / 16 * 1rem);
      }
      p::after {
        margin-top: calc(-7 / 16 * 1rem);
      }
      .pill {
        font-family: Raleway, "Trebuchet MS", sans-serif;
        font-size: var(--font10-raleway / 16 * 1rem);
        font-weight: 400;
        line-height: calc(
          (var(--whitespace10) + var(--xHeight10)) / var(--font10-raleway)
        );
      }
      h1,
      h2,
      h3 {
        font-family: "Zen Loop", cursive;
        font-weight: 400;
        text-transform: uppercase;
      }
      h1 {
        font-size: calc(var(--font500-zenloop) / 16 * 1rem);
        line-height: calc(
          (
              var(--font500-zenloop) * var(--zenloop-capHeight) +
                var(--whitespace100)
            ) / var(--font500-zenloop)
        );
      }
      h1::before {
        margin-bottom: calc(-2 / 16 * 1rem);
      }
      h1::after {
        margin-top: calc(-14 / 16 * 1rem);
      }

      @media screen and (max-width: 38.75em) {
        /* = 620px / 16 */
        h1 {
          font-size: calc(var(--font400-zenloop) / 16 * 1rem);
          line-height: calc(
            (
                var(--font400-zenloop) * var(--zenloop-capHeight) +
                  var(--whitespace100)
              ) / var(--font400-zenloop)
          );
        }
        h1::before {
          margin-bottom: calc(-4 / 16 * 1rem);
        }
        h1::after {
          margin-top: calc(-12 / 16 * 1rem);
        }
      }
      h2 {
        font-size: calc(var(--font200-zenloop) / 16 * 1rem);
        line-height: calc(
          (
              var(--font200-zenloop) * var(--zenloop-capHeight) +
                var(--whitespace100)
            ) / var(--font200-zenloop)
        );
      }
      h2::before {
        margin-bottom: calc(-7 / 16 * 1rem);
      }
      h2::after {
        margin-top: calc(-10 / 16 * 1rem);
      }
      h3 {
        font-size: calc(var(--font300-zenloop) / 16 * 1rem);
        line-height: calc(
          (
              var(--font300-zenloop) * var(--zenloop-capHeight) +
                var(--whitespace100)
            ) / var(--font300-zenloop)
        );
      }
      h3::before {
        margin-bottom: calc(-5 / 16 * 1rem);
      }
      h3::after {
        margin-top: calc(-11 / 16 * 1rem);
      }
      @media screen and (max-width: 21.5625em) {
        /* = 345px / 16 */
        h3 {
          font-size: calc(var(--font250-zenloop) / 16 * 1rem);
        }
        h3::after {
          margin-top: calc(-9 / 16 * 1rem);
        }
      }
      p[lang="ja"] {
        font-family: "YakuHanJP_Narrow", "Zen Kurenaido", "Helvetica Neue",
          "Segoe UI", "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo,
          sans-serif;
        font-size: calc(var(--font100-japanese) / 16 * 1rem);
        font-weight: 400;
        line-height: calc(
          (var(--whitespace100) + var(--xHeight)) / var(--font100-japanese)
        );
        line-break: strict; /* to prevent ッ from being at the beginning of a line */
        text-align: justify;
      }
      p[lang="ja"]::before {
        margin-bottom: calc(-6 / 16 * 1rem);
      }
      p[lang="ja"]::after {
        margin-top: calc(-5 / 16 * 1rem);
      }
      /* Hard-wrap long words (https://www.joshwcomeau.com/css/custom-css-reset/#seven-word-wrapping-8) */
      p {
        overflow-wrap: break-word;
      }
      /* Spacing */
      header,
      main,
      footer {
        padding: calc(var(--whitespace400) / 16 * 1rem)
          calc(var(--whitespace100) / 16 * 1rem);
        /* If changed, adjust the `sizes` attribute for <img> */
      }
      @media screen and (min-width: 601px) {
        header,
        main,
        footer {
          padding: calc(var(--whitespace400) / 16 * 1rem);
          /* If changed, adjust the `sizes` attribute for <img> */
        }
      }
      .whitespace-200 > * + * {
        margin-top: calc(var(--whitespace200) / 16 * 1rem);
      }
      .whitespace-300 > * + * {
        margin-top: calc(var(--whitespace300) / 16 * 1rem);
      }
      .whitespace-400 > * + * {
        margin-top: calc(var(--whitespace400) / 16 * 1rem);
      }
      .padding {
        /* If changed, adjust the `sizes` attribute for <img> */
        padding: calc(var(--whitespace200) / 16 * 1rem);
      }
      :root {
        --minimum-target-size: 48px;
        /* Video/Image max-width */
        --video-max-width: 624px;
        /* Color scheme */
        --black: #030303; /* (1) pure black would slow down scrolling on OLED screens (https://twitter.com/marcedwards/status/1053519077958803456) */
        --mid-grey: #767676; /* (1.1) ensure 4.5 to 1 contrast against #030303 (https://www.siegemedia.com/contrast-ratio#%23767676-on-%23030303) */
        --light-grey: #949494; /* (1.1.1.1) ensure 3 to 1 contrast against #fefefe (https://www.siegemedia.com/contrast-ratio#%23949494-on-%23fefefe) */
        --off-white: #d1d1d1; /* (1.1.1.2) ensure 1.5 to 1 contrast against #fefefe (https://www.siegemedia.com/contrast-ratio#%23d1d1d1-on-%23fefefe) */
        --white: #fefefe; /* (1.1.1) ensure 4.5 to 1 contrast against #767676 (https://www.siegemedia.com/contrast-ratio#%23767676-on-%23fefefe) */
        --red: #dc4343; /* chroma 60% while keeping the luminance at the level of pure red */
        --yellow: #fefe65; /* chroma 60% while keeping the luminance at the level of pure yellow */
        --green: #60f960; /* chroma 60% while keeping the luminance at the level of pure green */
        --cyan: #61fafa; /* chroma 60% while keeping the luminance at the level of pure cyan */
        --blue: #2e2ec7; /* chroma 60% while keeping the luminance at the level of pure blue */
        --purple: #e64de6; /* chroma 60% while keeping the luminance at the level of pure purple */
        --garden-green: #295921; /* switch hue to 110deg from TJG's theme color */
        --garden-green-light: #528048; /* brighten --garden-green to 4.54 (enough contrast against --white) while keeping chroma intact */
        /* Shape */
        --round-corner: 32px; /* TODO: match it with .pill once the font-family is fixed */
      }
      /* Measure */
      .measure {
        max-width: var(--video-max-width);
      }
      /* Background color */
      html {
        /* Scroll-bounce areas (otherwise white background will be revealed) */
        background: var(--black);
      }
      .bg-black {
        background: var(--black);
      }
      .bg-black-to-mid-grey {
        background: linear-gradient(150deg, var(--black), var(--mid-grey));
      }
      .bg-mid-grey-to-black {
        /* To smoothly transition into black in scroll-bounce areas */
        background: linear-gradient(to bottom, var(--mid-grey), var(--black));
      }
      .bg-typeset {
        position: relative;
        z-index: 0;
      }
      .bg-typeset div.background {
        background: var(--white);
        border-radius: inherit;
        color: var(--off-white);
        columns: 150px 2;
        column-gap: 20px;
        height: 100%;
        left: 0;
        overflow: hidden;
        position: absolute;
        top: 0;
        width: 100%;
        z-index: -1;
      }
      .bg-typeset div.background p {
        /* obtained with Roboto, x-height 2 to line-height 5, x-height 10px */
        font-family: Roboto, "Helvetica Neue", Arial, sans-serif;
        font-size: 18.9279px;
        font-weight: 400;
        line-height: 1.3208;
      }
      .bg-typeset div.background p + p {
        /* obtained with Roboto, x-height 2 to line-height 5, x-height 10px */
        margin-top: 10.9566px;
      }
      .bg-color {
        background: conic-gradient(
          var(--green),
          var(--cyan),
          var(--blue),
          var(--purple),
          var(--red),
          var(--yellow),
          var(--green)
        );
      }
      .bg-garden {
        background: linear-gradient(
          135deg,
          var(--garden-green),
          var(--garden-green-light),
          var(--garden-green)
        );
      }
      .bg-grid {
        --line-width: 1px;
        --size: 40px;
        --top-left-height: 14px;
        --top-left-width: 28px;
        --color-stop-bottom: calc(var(--top-left-height) + var(--line-width));
        --color-stop-right: calc(var(--top-left-width) + var(--line-width));
        background: 
          /* vertical lines */ linear-gradient(
            to right,
            transparent var(--top-left-width),
            var(--off-white) var(--top-left-width),
            var(--off-white) var(--color-stop-right),
            transparent var(--color-stop-right)
          ),
          /* horizontal lines */
            linear-gradient(
              to bottom,
              transparent var(--top-left-height),
              var(--off-white) var(--top-left-height),
              var(--off-white) var(--color-stop-bottom),
              transparent var(--color-stop-bottom)
            ),
          /* solid background */ linear-gradient(var(--white), var(--white));
        background-size: var(--size) var(--size);
      }
      /* Divider */
      .divider-light-grey {
        border-top: 1px solid var(--light-grey);
      }
      /* Color */
      .color-white {
        color: var(--white);
      }
      .color-black {
        color: var(--black);
      }
      /* Utilities */
      .transparent {
        opacity: 0;
      }
      .removed-if-js-disabled {
        display: none; /* for JS-disabled users */
      }
      /* Video block */
      /* Prevent layout shift in Safari when first playing the video (source: https://www.amitmerchant.com/prevent-image-layout-shift-using-this-simple-css-hack/) */
      .video {
        padding-top: 100%; /* 1 to 1 aspect ratio */
        position: relative;
        z-index: 0; /* to create a stacking context */
      }
      .video video,
      .video img {
        bottom: 0;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
      }
      /* Poster image (<video poster=""> doesn't work with Safari for some reason... */
      .video img {
        transition: opacity 500ms linear;
        z-index: 1; /* hide the video until it's fully loaded */
      }
      /* Placeholder image */
      .video[data-variant="line-height-picker"] {
        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAlmVYSWZNTQAqAAAACAAEARoABQAAAAEAAAA+ARsABQAAAAEAAABGASgAAwAAAAEAAgAAh2kABAAAAAEAAABOAAAAAAAAAJAAAAABAAAAkAAAAAEABJKGAAcAAAASAAAAhKABAAMAAAABAAEAAKACAAQAAAABAAAAA6ADAAQAAAABAAAAAwAAAABBU0NJSQAAAFNjcmVlbnNob3Rl3WWkAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC1WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj4xNDQ8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjE0NDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjYyNDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NjI1PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cia6nDcAAAAqSURBVAgdFcbBEQAgCASxBUGwBvpv03PMKzYz6m6E4dIlM3FzYteBn1g8mp8FpF5JSk8AAAAASUVORK5CYII=);
        background-size: cover;
      }
      .video[data-variant="triangulum"] {
        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAlmVYSWZNTQAqAAAACAAEARoABQAAAAEAAAA+ARsABQAAAAEAAABGASgAAwAAAAEAAgAAh2kABAAAAAEAAABOAAAAAAAAAJAAAAABAAAAkAAAAAEABJKGAAcAAAASAAAAhKABAAMAAAABAAEAAKACAAQAAAABAAAAA6ADAAQAAAABAAAAAwAAAABBU0NJSQAAAFNjcmVlbnNob3Rl3WWkAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC1WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj4xNDQ8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjE0NDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjYyNDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NjI1PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cia6nDcAAAAySURBVAgdAScA2P8BLyst//j49wD5/f4AAh8cGgAVDw4AAf39AATY4OAA8/LyAP8AAgBLkBBbyxBUigAAAABJRU5ErkJggg==);
        background-size: cover;
      }
      .video[data-variant="tjg"] {
        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAlmVYSWZNTQAqAAAACAAEARoABQAAAAEAAAA+ARsABQAAAAEAAABGASgAAwAAAAEAAgAAh2kABAAAAAEAAABOAAAAAAAAAJAAAAABAAAAkAAAAAEABJKGAAcAAAASAAAAhKABAAMAAAABAAEAAKACAAQAAAABAAAAA6ADAAQAAAABAAAAAwAAAABBU0NJSQAAAFNjcmVlbnNob3Rl3WWkAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC1WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj4xNDQ8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjE0NDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjYyNDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NjI1PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cia6nDcAAAAySURBVAgdAScA2P8B8/T0/wADBAAD//8AAf3+/v/f4uAADwsKAASdnZ4A4N3ZAAYHCACB8BEpfunpVAAAAABJRU5ErkJggg==);
        background-size: cover;
      }
      .video[data-variant="my-ideal-map"] {
        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAlmVYSWZNTQAqAAAACAAEARoABQAAAAEAAAA+ARsABQAAAAEAAABGASgAAwAAAAEAAgAAh2kABAAAAAEAAABOAAAAAAAAAJAAAAABAAAAkAAAAAEABJKGAAcAAAASAAAAhKABAAMAAAABAAEAAKACAAQAAAABAAAAA6ADAAQAAAABAAAAAwAAAABBU0NJSQAAAFNjcmVlbnNob3Rl3WWkAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC1WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj4xNDQ8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjE0NDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjYyNDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NjI1PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cia6nDcAAAAvSURBVAgdYywoKPp/5/59BkZGBgYWXR1NBkt7awaGv/8YWJ68es1w6+hRBmYgBwAXXA9CUBv59gAAAABJRU5ErkJggg==);
        background-size: cover;
      }
      /* Leaf Card block */
      .leaf-card {
        border-radius: var(--round-corner) 0 var(--round-corner) 0;
        /* Prevent background color leak outs (https://tumble.sneak.co.nz/post/928998513/fixing-the-background-bleed) */
        -webkit-background-clip: padding-box;
        -moz-background-clip: padding;
        background-clip: padding-box;
        display: grid;
        gap: calc(var(--whitespace100) / 16 * 1rem);
        grid-template-areas: "video video" "playback text" "button text";
        grid-template-columns: var(--minimum-target-size) 1fr;
        grid-template-rows: auto var(--minimum-target-size) auto;
        width: 100%;
      }
      .leaf-card:nth-of-type(even) {
        border-radius: 0 var(--round-corner) 0 var(--round-corner);
      }
      .leaf-card .video {
        grid-area: video;
      }
      /* Round the top-left or top-right corner of media */
      .leaf-card .video,
      .leaf-card .video img,
      .leaf-card .video video {
        --border-radius: calc(
          var(--round-corner) - var(--whitespace200) / 16 * 1rem
        );
        border-radius: var(--border-radius) 0 0 0;
      }
      .leaf-card:nth-of-type(even) .video,
      .leaf-card:nth-of-type(even) .video img,
      .leaf-card:nth-of-type(even) .video video {
        --border-radius: calc(
          var(--round-corner) - var(--whitespace200) / 16 * 1rem
        );
        border-radius: 0 var(--border-radius) 0 0;
      }
      .leaf-card .buttonGroup {
        display: grid;
        gap: calc(var(--whitespace100) / 16 * 1rem);
        grid-area: button;
        grid-template-areas: "." "website" "source";
        grid-template-rows:
          1fr var(--minimum-target-size)
          var(--minimum-target-size);
      }
      .leaf-card:last-of-type .buttonGroup {
        grid-template-areas: "." "." "website";
      }
      .leaf-card .button[data-type="playback"] {
        grid-area: playback;
      }
      .leaf-card .title-card {
        grid-area: text;
      }
      .leaf-card .button[data-type="website"] {
        grid-area: website;
      }
      .leaf-card .button[data-type="source"] {
        grid-area: source;
      }
      /* Responsive layout */
      @media screen and (min-width: 780.25px) {
        /* breakpoint: var(--video-max-width) + 2 * var(--whitespace200) + 2 * var(--whitespace400) */
        .leaf-card {
          /* left-align grid items */
          grid-template-areas: "video video ." "playback text ." "button text .";
          grid-template-columns:
            var(--minimum-target-size)
            calc(
              var(--video-max-width) - (var(--whitespace100) / 16 * 1rem) -
                var(--minimum-target-size)
            )
            1fr;
        }
        .leaf-card:nth-of-type(even) {
          /* right-align grid items */
          grid-template-areas: ". video video" ". playback text" ". button text";
          grid-template-columns:
            1fr
            var(--minimum-target-size)
            calc(
              var(--video-max-width) - (var(--whitespace100) / 16 * 1rem) -
                var(--minimum-target-size)
            );
        }
      }
      @media screen and (min-width: 1216.25px) {
        /* breakpoint: var(--video-max-width) * 5/3 + var(--whitespace100) + 2 * var(--whitespace200) + 2 * var(--whitespace400) */
        .alternate-position {
          display: flex;
          flex-direction: column;
        }
        .alternate-position .leaf-card:nth-of-type(odd) {
          align-self: flex-end;
        }
        .leaf-card {
          align-items: flex-start; /* avoid stretching title-card */
          grid-template-areas: "video text" "video button" "video ." "video playback";
          grid-template-columns: 3fr 2fr;
          grid-template-rows: auto var(--minimum-target-size) auto var(
              --minimum-target-size
            );
          max-width: calc(
            var(--video-max-width) * 5 / 3 + (var(--whitespace100) / 16 * 1rem) +
              (var(--whitespace200) / 16 * 1rem) * 2
          );
        }
        .leaf-card:nth-of-type(even) {
          grid-template-areas: "text video" "button video" ". video" "playback video";
          grid-template-columns: 2fr 3fr;
        }
        .leaf-card .title-card {
          width: calc(var(--video-max-width) * 2 / 3);
        }
        .leaf-card .buttonGroup {
          display: flex;
          flex-direction: row;
          justify-content: flex-end;
        }
        .leaf-card:nth-of-type(even) .buttonGroup {
          justify-content: flex-start;
        }
        .leaf-card .button[data-type="playback"] {
          align-self: end;
        }
        .leaf-card:nth-of-type(even) .button[data-type="playback"] {
          justify-self: end;
        }
      }
      @media screen and (min-width: 1632.25px) {
        /* breakpoint: var(--video-max-width) + 2 * var(--video-max-width) * 2/3 + 2 * var(--whitespace100) + 2 * var(--whitespace200) + 2 * var(--whitespace400) */
        main > section {
          align-items: center;
          display: flex;
          flex-direction: column;
          justify-content: center;
        }
        .alternate-position {
          width: calc(
            var(--video-max-width) * 7 / 3 + var(--whitespace100) / 16 * 1rem *
              2 + var(--whitespace200) / 16 * 1rem * 2
          );
        }
      }
      /* Button Block */
      .button {
        /* Reset <button> style */
        border: 0;
        /* Label placement */
        align-items: center;
        display: flex;
        justify-content: center;
        /* Texture */
        background: var(--white);
        fill: var(--mid-grey);
        /* Shape */
        border-radius: 4px;
        height: var(--minimum-target-size);
        width: var(--minimum-target-size);
        /* To indicate interactivity */
        cursor: pointer;
      }
      .button[disabled] {
        cursor: not-allowed;
        opacity: 0.4;
      }
      /* pills */
      .pill-container {
        --row-gap: calc(var(--whitespace10) / 16 * 1rem);
        column-gap: calc(
          var(--row-gap) / 2
        ); /* to be optically equal to row-gap */
        display: flex;
        flex-wrap: wrap;
        row-gap: var(--row-gap);
      }
      .pill {
        border: 1px solid currentColor;
        border-radius: 100px; /* TODO: specify once the font-family is fixed */
        color: currentColor;
        display: inline-block;
        padding: 0 10px;
        text-align: center;
      }
      .pill a {
        color: inherit;
        text-decoration: none;
      }
      /* Title-card Block */
      .title-card {
        background: var(--white);
        padding: calc(var(--whitespace100) / 16 * 1rem);
        width: 100%; /* necessary to expand beyond its text content length */
      }
      /* spinning animation */
      .spinning {
        animation: rotation 1s linear infinite;
      }
      @keyframes rotation {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      /* Shadow utility */
      .shadow {
        /* Layerd shadow approach: https://tobiasahlin.com/blog/layered-smooth-box-shadows/ */
        box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.15),
          0px 0px 2px rgba(0, 0, 0, 0.15), 0px 0px 4px rgba(0, 0, 0, 0.15),
          0px 0px 8px rgba(0, 0, 0, 0.15);
      }
    </style>
    <!-- Asynchronously load CSS stylesheet (https://web.dev/defer-non-critical-css/#optimize)-->
    <link
      rel="preload"
      href="style.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript>
      <link rel="stylesheet" href="style.css" />
    </noscript>
    <!-- SEO -->
    <meta name="description" content="" />
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" sizes="48x48" />
    <link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
  </head>
  <body class="color-white">
    <header class="whitespace-300 bg-black">
      <h1>Masa Kudamatsu</h1>
      <div class="whitespace-200">
        <p>Kyoto-based web developer with UX design best practices in mind</p>
        <p lang="ja">
          最良のユーザー体験を実現するためにコードを書く、京都在住のWebエンジニア
        </p>
      </div>
    </header>
    <main class="whitespace-400 bg-black-to-mid-grey divider-light-grey">
      <section class="whitespace-300">
        <h2>Works</h2>
        <div class="measure whitespace-200">
          <p>
            All designed and coded from scratch by myself, along with test code
            in Jest, Cypress, and Testing Library
          </p>
          <p lang="ja">
            全て、テンプレートを使わずにデザインとコーディングをしています。また、Jest、Cypress、及び、Testing
            Library を用いて、テストコードも書いています。
          </p>
        </div>
        <div class="alternate-position whitespace-300">
          <section class="leaf-card padding bg-typeset color-black">
            <div aria-hidden="true" class="background">
              <p>
                I am honored to be with you today at your commencement from one
                of the finest universities in the world. I never graduated from
                college. Truth be told, this is the closest I’ve ever gotten to
                a college graduation. Today I want to tell you three stories
                from my life. That’s it. No big deal. Just three stories.
              </p>
              <p>The first story is about connecting the dots.</p>
              <p>
                I dropped out of Reed College after the first 6 months, but then
                stayed around as a drop-in for another 18 months or so before I
                really quit. So why did I drop out?
              </p>
              <p>
                It started before I was born. My biological mother was a young,
                unwed college graduate student, and she decided to put me up for
                adoption. She felt very strongly that I should be adopted by
                college graduates, so everything was all set for me to be
                adopted at birth by a lawyer and his wife. Except that when I
                popped out they decided at the last minute that they really
                wanted a girl. So my parents, who were on a waiting list, got a
                call in the middle of the night asking: “We have an unexpected
                baby boy; do you want him?” They said: “Of course.” My
                biological mother later found out that my mother had never
                graduated from college and that my father had never graduated
                from high school. She refused to sign the final adoption papers.
                She only relented a few months later when my parents promised
                that I would someday go to college.
              </p>
              <p>
                And 17 years later I did go to college. But I naively chose a
                college that was almost as expensive as Stanford, and all of my
                working-class parents’ savings were being spent on my college
                tuition. After six months, I couldn’t see the value in it. I had
                no idea what I wanted to do with my life and no idea how college
                was going to help me figure it out. And here I was spending all
                of the money my parents had saved their entire life. So I
                decided to drop out and trust that it would all work out OK. It
                was pretty scary at the time, but looking back it was one of the
                best decisions I ever made. The minute I dropped out I could
                stop taking the required classes that didn’t interest me, and
                begin dropping in on the ones that looked interesting.
              </p>
              <p>
                It wasn’t all romantic. I didn’t have a dorm room, so I slept on
                the floor in friends’ rooms, I returned Coke bottles for the 5¢
                deposits to buy food with, and I would walk the 7 miles across
                town every Sunday night to get one good meal a week at the Hare
                Krishna temple. I loved it. And much of what I stumbled into by
                following my curiosity and intuition turned out to be priceless
                later on. Let me give you one example:
              </p>
              <p>
                Reed College at that time offered perhaps the best calligraphy
                instruction in the country. Throughout the campus every poster,
                every label on every drawer, was beautifully hand calligraphed.
                Because I had dropped out and didn’t have to take the normal
                classes, I decided to take a calligraphy class to learn how to
                do this. I learned about serif and sans serif typefaces, about
                varying the amount of space between different letter
                combinations, about what makes great typography great. It was
                beautiful, historical, artistically subtle in a way that science
                can’t capture, and I found it fascinating.
              </p>
              <p>
                None of this had even a hope of any practical application in my
                life. But 10 years later, when we were designing the first
                Macintosh computer, it all came back to me. And we designed it
                all into the Mac. It was the first computer with beautiful
                typography. If I had never dropped in on that single course in
                college, the Mac would have never had multiple typefaces or
                proportionally spaced fonts. And since Windows just copied the
                Mac, it’s likely that no personal computer would have them. If I
                had never dropped out, I would have never dropped in on this
                calligraphy class, and personal computers might not have the
                wonderful typography that they do. Of course it was impossible
                to connect the dots looking forward when I was in college. But
                it was very, very clear looking backward 10 years later.
              </p>
              <p>
                Again, you can’t connect the dots looking forward; you can only
                connect them looking backward. So you have to trust that the
                dots will somehow connect in your future. You have to trust in
                something — your gut, destiny, life, karma, whatever. This
                approach has never let me down, and it has made all the
                difference in my life.
              </p>
            </div>
            <figure class="video" data-variant="line-height-picker">
              <video
                height="624"
                width="624"
                controls
                loop
                muted
                playsinline
                preload="metadata"
              >
                <source src="media/line-height-picker.mp4" type="video/mp4" />
                <!-- Offer download -->
                <a href="media/line-height-picker.mp4">Download the video</a>
              </video>
              <img
                alt=""
                class="removed-if-js-disabled transparent"
                sizes="(max-width: 600px) calc(100vw - 75px), (max-width: 780px) calc(100vw - 146.25px), 624px"
                srcset="
                  media/line-height-picker624.png   624w,
                  media/line-height-picker990.png   990w,
                  media/line-height-picker1248.png 1248w
                "
                src="media/line-height-picker624.png"
              />
            </figure>
            <button
              aria-label="Play  demo for Line-height Picker"
              class="button shadow removed-if-js-disabled"
              data-type="playback"
              disabled
              type="button"
            >
              <!-- Material Icon "Progress Activity" https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Aprogress_activity%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
              <svg
                aria-hidden="true"
                class="spinning"
                xmlns="http://www.w3.org/2000/svg"
                height="48"
                viewBox="0 -960 960 960"
                width="48"
              >
                <path
                  d="M480-80q-84 0-157-31t-127-85q-54-54-85-127T80-480q0-84 31-157t85-127q54-54 127-85t157-31q12 0 21 9t9 21q0 12-9 21t-21 9q-141 0-240.5 99.5T140-480q0 141 99.5 240.5T480-140q141 0 240.5-99.5T820-480q0-12 9-21t21-9q12 0 21 9t9 21q0 84-31 157t-85 127q-54 54-127 85T480-80Z"
                />
              </svg>
            </button>
            <div class="buttonGroup">
              <a
                aria-label="Visit Line-height Picker"
                class="button shadow"
                data-type="website"
                href="https://line-height-picker.vercel.app"
                rel="noopener noreferrer"
                target="_blank"
              >
                <!-- downloaded from https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Aopen_in_new%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
                <svg
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  height="48"
                  viewBox="0 -960 960 960"
                  width="48"
                >
                  <path
                    d="M180-120q-24 0-42-18t-18-42v-600q0-24 18-42t42-18h279v60H180v600h600v-279h60v279q0 24-18 42t-42 18H180Zm202-219-42-43 398-398H519v-60h321v321h-60v-218L382-339Z"
                  />
                </svg>
              </a>
              <a
                aria-label="See source code for Line-height Picker"
                class="button shadow"
                data-type="source"
                href="https://github.com/masakudamatsu/line-height-picker"
                rel="noopener noreferrer"
                target="_blank"
              >
                <!-- downloaded from https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Acode%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
                <svg
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  height="48"
                  viewBox="0 -960 960 960"
                  width="48"
                >
                  <path
                    d="M320-242 80-482l242-242 43 43-199 199 197 197-43 43Zm318 2-43-43 199-199-197-197 43-43 240 240-242 242Z"
                  />
                </svg>
              </a>
            </div>
            <div class="title-card shadow whitespace-300">
              <div class="whitespace-200">
                <h3>Line-height Picker</h3>
                <p>March–July 2020</p>
              </div>
              <div class="whitespace-200">
                <p>
                  A web tool to help set the line-height of paragraph text
                  beautifully
                </p>
                <p lang="ja">
                  欧文フォントの行間を小文字のエックスの高さとの比で指定するためのWebツール
                </p>
              </div>
              <ul role="list" class="pill-container">
                <li class="pill">React</li>
                <li class="pill">Styled Components</li>
                <li class="pill">
                  <a
                    href="https://opentype.js.org/"
                    rel="noopener noreferrer"
                    target="_blank"
                    >Opentype.js</a
                  >
                </li>
              </ul>
            </div>
          </section>
          <section class="leaf-card padding bg-color">
            <figure class="video" data-variant="triangulum">
              <video
                height="624"
                width="624"
                controls
                loop
                muted
                playsinline
                preload="metadata"
              >
                <source src="media/triangulum.mp4" type="video/mp4" />
                <!-- Offer download -->
                <a href="media/triangulum.mp4">Download the video</a>
              </video>
              <img
                alt=""
                class="removed-if-js-disabled transparent"
                loading="lazy"
                sizes="(max-width: 600px) calc(100vw - 75px), (max-width: 766px) calc(100vw - 141.25px), 624px"
                srcset="
                  media/triangulum624.png   624w,
                  media/triangulum990.png   990w,
                  media/triangulum1248.png 1248w
                "
                src="media/triangulum624.png"
              />
            </figure>
            <button
              aria-label="Play  demo for Triangulum Color Picker"
              class="button shadow removed-if-js-disabled"
              class="button shadow playbackButton removed-if-js-disabled"
              data-type="playback"
              disabled
              type="button"
            >
              <!-- Material Icon "Progress Activity" https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Aprogress_activity%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
              <svg
                aria-hidden="true"
                class="spinning"
                xmlns="http://www.w3.org/2000/svg"
                height="48"
                viewBox="0 -960 960 960"
                width="48"
              >
                <path
                  d="M480-80q-84 0-157-31t-127-85q-54-54-85-127T80-480q0-84 31-157t85-127q54-54 127-85t157-31q12 0 21 9t9 21q0 12-9 21t-21 9q-141 0-240.5 99.5T140-480q0 141 99.5 240.5T480-140q141 0 240.5-99.5T820-480q0-12 9-21t21-9q12 0 21 9t9 21q0 84-31 157t-85 127q-54 54-127 85T480-80Z"
                />
              </svg>
            </button>
            <div class="buttonGroup">
              <a
                aria-label="Visit Triangulum Color Picker"
                class="button shadow"
                data-type="website"
                href="https://triangulum.netlify.app"
                rel="noopener noreferrer"
                target="_blank"
              >
                <!-- downloaded from https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Aopen_in_new%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
                <svg
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  height="48"
                  viewBox="0 -960 960 960"
                  width="48"
                >
                  <path
                    d="M180-120q-24 0-42-18t-18-42v-600q0-24 18-42t42-18h279v60H180v600h600v-279h60v279q0 24-18 42t-42 18H180Zm202-219-42-43 398-398H519v-60h321v321h-60v-218L382-339Z"
                  />
                </svg>
              </a>
              <a
                aria-label="See source code for Triangulum Color Picker"
                class="button shadow"
                data-type="source"
                href="https://github.com/masakudamatsu/triangulum-color-picker"
                rel="noopener noreferrer"
                target="_blank"
              >
                <!-- downloaded from https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Acode%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
                <svg
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  height="48"
                  viewBox="0 -960 960 960"
                  width="48"
                >
                  <path
                    d="M320-242 80-482l242-242 43 43-199 199 197 197-43 43Zm318 2-43-43 199-199-197-197 43-43 240 240-242 242Z"
                  />
                </svg>
              </a>
            </div>
            <div class="title-card shadow whitespace-300 color-black">
              <div class="whitespace-200">
                <h3>Triangulum Color Picker</h3>
                <p>December 2020–March 2021</p>
              </div>
              <div class="whitespace-200">
                <p>A web tool to help pick accessible and harmonious colors</p>
                <p lang="ja">
                  色コードを入力すると、アクセシビリティーのために役立つ黒との明度差、及び、他の色と調和するかどうかの基準として利用できる準食の含有割合を表示するWebツール。
                </p>
              </div>
              <ul role="list" class="pill-container">
                <li class="pill">Canvas API</li>
                <li class="pill">React</li>
                <li class="pill">Next.js</li>
                <li class="pill">Styled Components</li>
              </ul>
            </div>
          </section>
          <section class="leaf-card padding bg-garden">
            <figure class="video" data-variant="tjg">
              <video
                height="624"
                width="624"
                controls
                loop
                muted
                playsinline
                preload="metadata"
              >
                <source src="media/tjg.mp4" type="video/mp4" />
                <!-- Offer download -->
                <a href="media/tjg.mp4">Download the video</a>
              </video>
              <img
                alt=""
                class="removed-if-js-disabled transparent"
                loading="lazy"
                sizes="(max-width: 600px) calc(100vw - 75px), (max-width: 766px) calc(100vw - 141.25px), 624px"
                srcset="
                  media/tjg624.png   624w,
                  media/tjg990.png   990w,
                  media/tjg1248.png 1248w
                "
                src="media/tjg624.png"
              />
            </figure>
            <button
              aria-label="Play  demo for Translating Japanese Gardens"
              class="button shadow removed-if-js-disabled"
              data-type="playback"
              disabled
              type="button"
            >
              <!-- Material Icon "Progress Activity" https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Aprogress_activity%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
              <svg
                aria-hidden="true"
                class="spinning"
                xmlns="http://www.w3.org/2000/svg"
                height="48"
                viewBox="0 -960 960 960"
                width="48"
              >
                <path
                  d="M480-80q-84 0-157-31t-127-85q-54-54-85-127T80-480q0-84 31-157t85-127q54-54 127-85t157-31q12 0 21 9t9 21q0 12-9 21t-21 9q-141 0-240.5 99.5T140-480q0 141 99.5 240.5T480-140q141 0 240.5-99.5T820-480q0-12 9-21t21-9q12 0 21 9t9 21q0 84-31 157t-85 127q-54 54-127 85T480-80Z"
                />
              </svg>
            </button>
            <div class="buttonGroup">
              <a
                aria-label="Visit Translating Japanese Gardens"
                class="button shadow"
                data-type="website"
                href="https://translating-japanese-gardens.pages.dev"
                rel="noopener noreferrer"
                target="_blank"
              >
                <!-- downloaded from https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Aopen_in_new%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
                <svg
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  height="48"
                  viewBox="0 -960 960 960"
                  width="48"
                >
                  <path
                    d="M180-120q-24 0-42-18t-18-42v-600q0-24 18-42t42-18h279v60H180v600h600v-279h60v279q0 24-18 42t-42 18H180Zm202-219-42-43 398-398H519v-60h321v321h-60v-218L382-339Z"
                  />
                </svg>
              </a>
              <a
                aria-label="See source code for Translating Japanese Gardens"
                class="button shadow"
                data-type="source"
                href="https://github.com/masakudamatsu/translating-japanese-gardens"
                rel="noopener noreferrer"
                target="_blank"
              >
                <!-- downloaded from https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Acode%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
                <svg
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  height="48"
                  viewBox="0 -960 960 960"
                  width="48"
                >
                  <path
                    d="M320-242 80-482l242-242 43 43-199 199 197 197-43 43Zm318 2-43-43 199-199-197-197 43-43 240 240-242 242Z"
                  />
                </svg>
              </a>
            </div>
            <div class="title-card shadow whitespace-300 color-black">
              <div class="whitespace-200">
                <h3>Translating Japanese Gardens</h3>

                <p>June–August 2021</p>
              </div>
              <div class="whitespace-200">
                <p>
                  A blog on historical Japanese garden design, presented like a
                  hanging scroll
                </p>
                <p lang="ja">
                  日本の名庭園のデザイン意図を深読みするブログ。掛軸をモチーフにUIをデザイン。
                </p>
              </div>
              <ul role="list" class="pill-container">
                <li class="pill">React</li>
                <li class="pill">Next.js</li>
                <li class="pill">Styled Components</li>
                <li class="pill">
                  <a
                    href="https://github.com/zachleat/glyphhanger"
                    rel="noopener noreferrer"
                    target="_blank"
                    >Glyphhanger</a
                  >
                </li>
              </ul>
            </div>
          </section>
          <section class="leaf-card padding bg-grid color-black">
            <figure class="video" data-variant="my-ideal-map">
              <video
                height="624"
                width="624"
                controls
                loop
                muted
                playsinline
                preload="metadata"
              >
                <source src="media/my-ideal-map.mp4" type="video/mp4" />
                <!-- Offer download -->
                <a href="media/my-ideal-map.mp4">Download the video</a>
              </video>
              <img
                alt=""
                class="removed-if-js-disabled transparent"
                loading="lazy"
                sizes="(max-width: 600px) calc(100vw - 75px), (max-width: 766px) calc(100vw - 141.25px), 624px"
                srcset="
                  media/my-ideal-map624.png   624w,
                  media/my-ideal-map990.png   990w,
                  media/my-ideal-map1248.png 1248w
                "
                src="media/my-ideal-map624.png"
              />
            </figure>
            <button
              aria-label="Play  demo for My Ideal Map"
              class="button shadow removed-if-js-disabled"
              data-type="playback"
              disabled
              type="button"
            >
              <!-- Material Icon "Progress Activity" https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Aprogress_activity%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
              <svg
                aria-hidden="true"
                class="spinning"
                xmlns="http://www.w3.org/2000/svg"
                height="48"
                viewBox="0 -960 960 960"
                width="48"
              >
                <path
                  d="M480-80q-84 0-157-31t-127-85q-54-54-85-127T80-480q0-84 31-157t85-127q54-54 127-85t157-31q12 0 21 9t9 21q0 12-9 21t-21 9q-141 0-240.5 99.5T140-480q0 141 99.5 240.5T480-140q141 0 240.5-99.5T820-480q0-12 9-21t21-9q12 0 21 9t9 21q0 84-31 157t-85 127q-54 54-127 85T480-80Z"
                />
              </svg>
            </button>
            <div class="buttonGroup">
              <a
                aria-label="Visit My Ideal Map"
                class="button shadow"
                data-type="website"
                href="https://my-ideal-map.app"
                rel="noopener noreferrer"
                target="_blank"
              >
                <!-- downloaded from https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Aopen_in_new%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 -->
                <svg
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  height="48"
                  viewBox="0 -960 960 960"
                  width="48"
                >
                  <path
                    d="M180-120q-24 0-42-18t-18-42v-600q0-24 18-42t42-18h279v60H180v600h600v-279h60v279q0 24-18 42t-42 18H180Zm202-219-42-43 398-398H519v-60h321v321h-60v-218L382-339Z"
                  />
                </svg>
              </a>
            </div>
            <div class="title-card shadow whitespace-300">
              <div class="whitespace-200">
                <h3>My Ideal Map</h3>
                <p>August – December 2021, August 2022 — present</p>
              </div>
              <div class="whitespace-200">
                <p>
                  A full-stack web app that allows the user to save places on
                  the embedded Google Maps with links to external sites. I’m
                  planning on making the app available to the public by the end
                  of this year.
                </p>
                <p lang="ja">
                  Googleマップ上の場所を保存する際のメモにリンクを貼ることができる、Webアプリ。今年中に一般公開予定。
                </p>
              </div>
              <ul role="list" class="pill-container">
                <li class="pill">Geolocation API</li>
                <li class="pill">React</li>
                <li class="pill">Next.js</li>
                <li class="pill">Styled Components</li>
                <li class="pill">Prisma</li>
                <li class="pill">PostgreSQL</li>
                <li class="pill">
                  <a
                    href="https://mapsplatform.google.com"
                    rel="noopener noreferrer"
                    target="_blank"
                    >Google Maps Platform</a
                  >
                </li>
                <li class="pill">
                  <a
                    href="https://auth0.com"
                    rel="noopener noreferrer"
                    target="_blank"
                    >Auth0</a
                  >
                </li>
              </ul>
            </div>
          </section>
        </div>
      </section>
      <section class="whitespace-300">
        <h2>About Me</h2>
        <div class="measure whitespace-200">
          <p>
            While my life has been eclectic, I’ve always been interested in the
            use of “metaphors”.
          </p>
          <p>
            I did my PhD in economics (at London School of Economics, 2002–2007)
            because economists use mathematics as “metaphors” for human
            decision-making.
          </p>
          <p>
            I studied interior design (at Inchbald School of Design, 2014–2015)
            because designers use shapes and textures as “metaphors” for human
            feelings.
          </p>
          <p>
            Since 2019, I have been building websites because web developers use
            code as “metaphors” for user interface and user experience.
          </p>
          <p>
            My previous career as an academic data analyst (at Stockholm
            University, 2007–2015, and at Osaka University, 2016–2019) helped me
            acquire coding skills, which has been beneficial as I learn web
            development.
          </p>
        </div>
        <div class="measure whitespace-200" lang="ja">
          <p>
            これまでの人生を振り返ると、「比喩」への関心だけはブレていないことに気づきます。
          </p>
          <p>
            5年間のロンドン留学（2002–2007年）で経済学の博士号を取ったのは、数学を「比喩」として用いて、人間の行動を記述することができたから。
          </p>
          <p>
            ロンドンのデザインスクールでインテリアデザインを1年間（2014–2015年）学んだのは、形と質感を「比喩」として用いて、空間や家具から伝わってくるメッセージを表現できたから。
          </p>
          <p>
            2019年以降、ウェブサイトを作り続けてきたのは、コードを「比喩」として用いて、ユーザー体験を表現できるから。
          </p>
          <p>
            データ分析を得意とする学術研究者として、ストックホルム大学（2007–2015年）と大阪大学（2016–2019年）で働いた経験は、ウェブサイト作成のためのコンピュータープログラミングに生かされています。
          </p>
        </div>
      </section>
    </main>
    <footer class="whitespace-200 divider-light-grey">
      <p>
        Thank you for scrolling down until the end. By now you know me better;
        did you notice the background is brighter than at the top of this page?
      </p>
      <address>
        Designed and coded from scratch with vanilla HTML/CSS/JavaScript by Masa
        Kudamatsu (<a href="mailto:masakudamatsu@gmail.com"
          >masakudamatsu@gmail.com</a
        >) in Kyoto, Japan. Please feel free to contact me. :-)
      </address>
    </footer>
  </body>
  <script>
    const videos = document.querySelectorAll("video");
    const playbackButtons = document.querySelectorAll(
      ".button[data-type='playback']"
    );
    const imgs = document.querySelectorAll(".leaf-card .video img");
    const isNonRetinaScreen = window.matchMedia(
      "(-webkit-max-device-pixel-ratio: 1)"
    );
    const isRetinaMobileScreen = window.matchMedia(
      "(-webkit-min-device-pixel-ratio: 2) and (max-width: 382px)"
    );

    // Prepare for playing videos only when fully visible within the screen
    const observer = new IntersectionObserver(callback, { threshold: 1.0 });
    function callback(videos) {
      videos.forEach((video) => {
        if (video.isIntersecting) {
          video.target.play();
        } else {
          video.target.pause();
        }
      });
    }

    // Prepare for replacing video files by screen width
    let filename;
    // Loop over all videos
    for (let i = 0; i < videos.length; i++) {
      // Replace video files for mobile devices
      if (i === 0) {
        filename = "line-height-picker";
      } else if (i === 1) {
        filename = "triangulum";
      } else if (i === 2) {
        filename = "tjg";
      } else if (i === 3) {
        filename = "my-ideal-map";
      } else {
        filename = null;
      }
      if (isNonRetinaScreen.matches || isRetinaMobileScreen.matches) {
        videos[i].children[0].src = `media/${filename}-mobile.mp4`;
        videos[i].children[1].href = `media/${filename}-mobile.mp4`;
      }
      // Disable the default video player
      videos[i].controls = false;
      // Reveal playback buttons
      playbackButtons[i].classList.remove("removed-if-js-disabled");
      playbackButtons[i].addEventListener("click", (event) => {
        event.stopPropagation();
        if (videos[i].paused) {
          videos[i].play();
        } else {
          videos[i].pause();
        }
      });
      // Start loading poster images
      imgs[i].classList.remove("removed-if-js-disabled");
      // Start loading the entire video files
      videos[i].play();

      // track whether the video has been fully loaded
      let isVideoLoaded = false;

      // Reveal poster images
      if (imgs[i].complete) {
        // image file has been cached
        imgs[i].classList.remove("transparent");
      } else {
        // Detect when the image is loaded
        imgs[i].addEventListener("load", revealPosterImage, { once: true });
        function revealPosterImage(event) {
          if (!isVideoLoaded) {
            event.target.classList.remove("transparent");
          }
        }
      }
      // Handle the event in which each video is fully loaded
      const handleCanplaythrough = (event) => {
        isVideoLoaded = true;
        // pause videos (to match the playback button labels)
        videos[i].pause();
        // rewind the video to the beginning (it may have started playing before fully loaded)
        videos[i].currentTime = 0;

        // hide poster images once the video is ready to play thorugh
        imgs[i].classList.add("transparent");

        // change playback button appearance
        playbackButtons[i].disabled = false;
        playbackButtons[i].children[0].classList.remove("spinning");

        // toggle playbackButton label in response to video playing status
        videos[i].addEventListener("play", function () {
          playbackButtons[i].children[0].children[0].setAttribute(
            "d",
            "M525-200v-560h235v560H525Zm-325 0v-560h235v560H200Zm385-60h115v-440H585v440Zm-325 0h115v-440H260v440Zm0-440v440-440Zm325 0v440-440Z"
          ); /* Material Icon "Pause", https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Apause%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 */
          playbackButtons[i].ariaLabel = `Pause ${playbackButtons[
            i
          ].ariaLabel.slice(5)}`; // drop "Play " at the beginning
        });
        videos[i].addEventListener("pause", function () {
          playbackButtons[i].children[0].children[0].setAttribute(
            "d",
            "M320-203v-560l440 280-440 280Zm60-280Zm0 171 269-171-269-171v342Z"
          ); /* Material Icon "Play Arrow", https://fonts.google.com/icons?selected=Material%20Symbols%20Outlined%3Aplay_arrow%3AFILL%400%3Bwght%40400%3BGRAD%400%3Bopsz%4048 */
          playbackButtons[i].ariaLabel = `Play ${playbackButtons[
            i
          ].ariaLabel.slice(6)}`; // drop "Pause " at the beginning
        });

        // play videos only when fully visible within the screen
        observer.observe(videos[i]);
      };
      videos[i].addEventListener("canplaythrough", handleCanplaythrough, {
        once: true,
      });
    }
    // // debugging
    // for (let i = 0; i < imgs.length; i++) {
    //   if (imgs[i].complete) {
    //     console.log(`Poster image ${i} cached`);
    //   } else {
    //     let handleEvent;
    //     if (i === 0) {
    //       handleEvent = (event) => {
    //         console.log(
    //           `Poster image for Line-height Picker: "${event.type}" event fired`
    //         );
    //       };
    //     } else if (i === 1) {
    //       handleEvent = (event) => {
    //         console.log(
    //           `Poster image for Triangulum: "${event.type}" event fired`
    //         );
    //       };
    //     } else if (i === 2) {
    //       handleEvent = (event) => {
    //         console.log(`Poster image for TJG: "${event.type}" event fired`);
    //       };
    //     } else if (i === 3) {
    //       handleEvent = (event) => {
    //         console.log(
    //           `Poster image for My Ideal Map: "${event.type}" event fired`
    //         );
    //       };
    //     }
    //     imgs[i].addEventListener("load", handleEvent);
    //   }
    // }
    // for (let i = 0; i < videos.length; i++) {
    //   let handleEvent;
    //   if (i === 0) {
    //     handleEvent = (event) => {
    //       console.log(
    //         `Line-height Picker at ${videos[i].currentTime}: "${event.type}" event fired`
    //       );
    //     };
    //   } else if (i === 1) {
    //     handleEvent = (event) => {
    //       console.log(
    //         `Triangulum at ${videos[i].currentTime}: "${event.type}" event fired`
    //       );
    //     };
    //   } else if (i === 2) {
    //     handleEvent = (event) => {
    //       console.log(
    //         `TJG at ${videos[i].currentTime}: "${event.type}" event fired`
    //       );
    //     };
    //   } else if (i === 3) {
    //     handleEvent = (event) => {
    //       console.log(
    //         `My Ideal Map at ${videos[i].currentTime}: "${event.type}" event fired`
    //       );
    //     };
    //   }
    //   videos[i].addEventListener("loadstart", handleEvent);
    //   videos[i].addEventListener("loadedmetadata", handleEvent);
    //   videos[i].addEventListener("loadeddata", handleEvent);
    //   videos[i].addEventListener("canplay", handleEvent);
    //   videos[i].addEventListener("progress", handleEvent);
    //   videos[i].addEventListener("canplaythrough", handleEvent);
    //   videos[i].addEventListener("play", handleEvent);
    //   videos[i].addEventListener("pause", handleEvent);
    //   videos[i].addEventListener("error", handleEvent);
    //   videos[i].addEventListener("stalled", handleEvent);
    //   videos[i].addEventListener("suspend", handleEvent);
    //   videos[i].addEventListener("waiting", handleEvent);
    // }
  </script>
</html>
